<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Videojs-contrib-hls.js</title>

        <link href="../node_modules/video.js/dist/video-js.css" rel="stylesheet">
        <script src="../node_modules/video.js/dist/video.js"></script>

        <!--

        -->

        <!-- Load Hls before Videojs plugin -->
        <script src="/dist/HlsjsVideojsPluginExternal.min.js"></script>

        <!-- We can put this to load *before* the plugin as well and
            in this case we would not have to call the plugin explicitely later -->
        <script src="../node_modules/hls.js/dist/hls.js"></script>

    </head>
    <body>

        <video id="player" class="video-js vjs-default-skin" height="360" width="640" controls preload="none">
            <source src="https://wowza.peer5.com/live/smil:clock.smil/playlist.m3u8"
                type="application/x-mpegURL"/>
        </video>

        <p>
            Go <a href="index.html">here</a> for a usage example with the bundled Hls.js distro.
        </p>

        <script>

            ///*

            // Or via any module-loader:

            /*
            const videojs = require('videojs')

            const HlsjsVideojsPluginExternal = require('@emliri/hlsjs-videojs')

            const Hls = require('hls.js')
            */

            // both arguments are optional and will fallback to look for Hls / videojs in global scope
            HlsjsVideojsPluginExternal(Hls, videojs);

            // NOTE: only required when dependencies didn't exist yet in global scope at plugin load time

            //*/

            var DEBUG_LOG_ENABLED = true;

            var player = videojs('#player', {
                html5: {
                    hlsjsConfig: {
                        debug: DEBUG_LOG_ENABLED
                    }
                }
            });

        </script>
    </body>
</html>
